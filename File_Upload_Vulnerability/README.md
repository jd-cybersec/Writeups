# File Upload Attacks ‚Äì HTB Academy Skill Assessment

This repository contains a detailed write-up and walkthrough of the **File Upload Attacks** skill assessment on Hack The Box Academy.

## Overview

The scenario simulates a penetration test engagement on an early-stage e-commerce web application. The goal is to identify and exploit insecure file upload functionality to achieve **Remote Code Execution (RCE)** on the backend server.

The assessment tests the ability to:

- Discover file upload vectors
- Bypass extension, content-type, and magic byte filters
- Exploit XXE vulnerabilities
- Evade file upload restrictions to achieve RCE
- Read and analyze backend code via indirect means
- Apply real-world payload crafting and analysis techniques

---

## Write-Up

üìù A complete step-by-step markdown write-up is included:  

This document covers:

- Initial reconnaissance and form analysis
- Use of Burp Suite for interception and tampering
- Fuzzing strategies for bypassing filters
- Successful exploitation using `.phar.jpg` shell injection
- Root cause analysis and remediation suggestions

---

## Key Takeaways

- **Filter Evasion:** Even with layered checks (blacklist, whitelist, MIME validation), misconfigurations and weak patterns can be bypassed with crafted payloads.
- **Payload Crafting:** Encoding (e.g., base64) and the use of legitimate image headers can fool poorly designed validation.
- **Source Discovery:** When webshell upload is blocked, reading and analyzing source code through indirect methods (e.g., XXE) can guide exploitation.

---

## Remediation Recommendations

To defend against similar attacks:

- Enforce strict MIME and magic byte validation using server-side libraries
- Store uploaded files outside of the web root directory
- Rename uploaded files and sanitize all file names
- Block access to uploaded files or serve them through indirect handlers
- Log all file upload attempts and inspect anomalies
- Avoid relying solely on blacklists; implement strong whitelists
- Use web application firewalls (WAFs) to block suspicious patterns

---

## Author

**Jordan Davis**  
Cybersecurity Learner & Offensive Security Enthusiast  

---

## License

This project and its content are for educational purposes only.

